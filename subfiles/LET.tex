\documentclass[../codeprint.tex]{subfiles}
\begin{document}
%HERE comes everything directly related to LET
\subsection{Plain LET (ch.3)}
\label{lang:LET}
\lstinputlisting[caption=LET interpreter]{chapter3/LET/LET.rkt}
\lstinputlisting[firstline=1, lastline=32, caption=Syntax file for LET]{chapter3/LET/syntax.rkt}

\subsection{PROC: LET + simple procedures (ch.3)}
\label{lang:PROC}
Given below are only the additions needed to expand LET (see \autoref{lang:LET}) to PROC.
\lstinputlisting[linerange={5-22,40-46,109-103,128-143}, caption=Additions to LET for the PROC interpreter.]{chapter3/PROC/PROC.rkt}
\lstinputlisting[linerange={8-8, 21-28}, caption=Additions to syntax file for PROC]{chapter3/PROC/syntax.rkt}
\end{document}
